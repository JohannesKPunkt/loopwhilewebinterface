<div xmlns:xi="http://www.w3.org/2001/XInclude" id="editor_container" style="height: 70%;">
	<xi:include href="form_container.xml"/>
    <pre id="editor">$program_code</pre>
    <!-- load ace -->
    <script src="ace/ace.js"></script>
    <!-- load ace themelist extension -->
    <script src="ace/ext-themelist.js"></script>
    <!-- load ace language_tools extension -->
    <script src="ace/ext-language_tools.js"></script>
    <script>
    //<![CDATA[
    var session_id = 0;

    var $ = document.getElementById.bind(document);
    var dom = require("ace/lib/dom");

    ace.config.set("enableBasicAutocompletion", true);

    require("ace/commands/default_commands").commands.push({
        name: "Toggle Fullscreen",
        bindKey: "F11",
        exec: function(editor) {
            var fullScreen = dom.toggleCssClass(document.body, "fullScreen")
            dom.setCssClass(editor.container, "fullScreen", fullScreen)
            editor.setAutoScrollEditorIntoView(!fullScreen)
            editor.resize()
        }
    });

    var editor = ace.edit("editor");
    editor.setTheme("ace/theme/iplastic");
    editor.session.setMode("ace/mode/LoopWhile");
    editor.renderer.setScrollMargin(5, 5);

    //]]>
    </script>
</div>
